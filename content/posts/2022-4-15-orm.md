---
title: "Qt 实现数据持久化框架"
date: 2022-04-15T14:05:59+08:00
author: "lzx"
slug: "orm"
---

项目大量使用数据库，如何简化数据库操作？直接上 ORM 可能会影响性能，而且也不够灵活，而且 Qt 的 ORM 框架也并不多。不过好消息是，由于 Qt 元对象系统提供的反射功能，我们可以轻松地封装一个数据持久化框架。

源码和使用可以查看我的[Qt 开发脚手架](https://github.com/lzxqaq/qframework)。

该框架的实现思路参考 MyBatis，利用 Qt 的元对象系统（属性宏）将数据库字段与实体类字段映射，将 SQL 语句放到XML配置文件中，封装了常见的增删改查接口，并使用一个数据库连接池管理数据库的连接。并且，制作使用一个代码生成器，生成 SQL 文件、实体类、持久层、服务层文件。

于是，开发人员可以从常见的增删改查业务中解脱出来。