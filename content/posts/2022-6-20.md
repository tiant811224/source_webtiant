---
title: "逻辑等价性检查（LEC）"
date: 2022-06-20T00:16:54+08:00
author: "lzx"
tags: ["eda"]
---

参考
- [功能ECO理论基础：逻辑等价性检查（LEC）
](https://mp.weixin.qq.com/s/8YsGMea-Kl5nnTsX0UoxgQ)
- [【A级忍术】形式验证的原理及流程详细总结
](https://zhuanlan.zhihu.com/p/436453322)


# 一、基础概念

golden：参考模型

revised：待比较的设计

逻辑锥Logic Cone：设计（module）就是“以DFF为终点的逻辑块”组成。不仅网表如此，RTL也是一样。所有数字电路都可以用always和assign这两种语法来实现（latch可以看作是DFF的一种）。这些“以DFF为终点的逻辑块”我们把它叫作逻辑锥

Keypoint Mapping：逻辑锥的终点是DFF的CK（时钟）、Ｄ（数据）、RN（复位）、SN（置位），如果这几个“关键点”的逻辑都相同或者等价，那么这两个逻辑锥的逻辑就等价。

只要两种设计的所有对应逻辑锥逻辑功能都被验证为等价，就认为两个设计等价。

# 二、流程

1. 设置一些与进行等价性验证有关的设置。例如，若设计中的某些模块不需要进行检查，可以将其设置为“黑盒子”；在验证插入扫描链的网表时，要将测试模式信号与扫描使能信号设置为禁止使能，等等。  
2. 进行比较点匹配。采用match令即可。一般来说，等价性检查工具会根据相近的信号命名来选取比较点，并给出比较点的报告。如果工具无法识别某些比较点，或者识别有错误，那么设计者可以手工进行相应设置。   
3. 进行验证。采用verify命令即可。
4. 给出报告，如果发现错误，则利用图形化界面进行调试。